<div *ngIf="loaderService.isLoading$ | async">
  <app-spinner></app-spinner>
</div>

<div class="container-table">
  <table class="styled-table">
    <thead>
      <tr>
        <th></th>
        <th>Club</th>
        <th>PJ</th>
        <th (click)="onSortBy($event)" class="eventSort" id="Pts">Pts</th>
        <th (click)="onSortBy($event)" class="eventSort" id="winLabel">
          {{ "W" | translate }}
        </th>
        <th (click)="onSortBy($event)" id="drawLabel" class="eventSort">
          {{ "D" | translate }}
        </th>
        <th (click)="onSortBy($event)" class="eventSort" id="lostLabel">
          {{ "L" | translate }}
        </th>
        <th (click)="onSortBy($event)" class="eventSort" id="GFLabel">
          {{ "GF" | translate }}
        </th>
        <th (click)="onSortBy($event)" class="eventSort" id="GALabel">
          {{ "GA" | translate }}
        </th>
        <th (click)="onSortBy($event)" class="eventSort" id="GDLabel">
          {{ "GD" | translate }}
        </th>
        <th *ngIf="type === 'LEAGUE'">{{ "Form" | translate }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let team of teams" class="teamRow">
        <td>{{ team.position }}</td>
        <td class="tooltip">
          <img
            src="{{ team.team.crest }}"
            alt="{{ team.team.name }} logo"
            (click)="goToTeam(team.team.id)"
          />
          <span class="tooltiptext">{{ team.team.name }}</span>
        </td>
        <td>{{ team.playedGames }}</td>
        <td class="points">{{ team.points }}</td>
        <td>{{ team.won }}</td>
        <td>{{ team.draw }}</td>
        <td>{{ team.lost }}</td>
        <td>{{ team.goalsFor }}</td>
        <td>{{ team.goalsAgainst }}</td>
        <td>{{ team.goalDif }}</td>
        <td *ngIf="type === 'LEAGUE'" class="lastFive">
          <div *ngFor="let match of team.form">
            <div *ngIf="match === 'W'" class="victory">
              {{ "W" | translate }}
            </div>
            <div *ngIf="match === 'L'" class="defeat">
              {{ "L" | translate }}
            </div>
            <div *ngIf="match === 'D'" class="draw">
              {{ "D" | translate }}
            </div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
